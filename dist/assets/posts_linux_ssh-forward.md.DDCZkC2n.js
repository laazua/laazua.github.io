import{_ as i,o as a,c as n,ai as l}from"./chunks/framework.rV0OLpih.js";const c=JSON.parse('{"title":"SSH 流量转发","description":"","frontmatter":{"title":"SSH 流量转发","prev":{"text":"SSH CA 通用账号登录","link":"./ssh-ca"},"next":{"text":"内核参数调整示例","link":"./kernel"}},"headers":[],"relativePath":"posts/linux/ssh-forward.md","filePath":"posts/linux/ssh-forward.md"}'),h={name:"posts/linux/ssh-forward.md"};function t(p,s,e,k,r,d){return a(),n("div",null,[...s[0]||(s[0]=[l(`<h3 id="ssh-流量转发" tabindex="-1">SSH 流量转发 <a class="header-anchor" href="#ssh-流量转发" aria-label="Permalink to “SSH 流量转发”">​</a></h3><ul><li><strong>本地端口转发</strong></li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 本地主机执行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8077:localhost:8088</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.165.88</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -f 后台运行</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -N 不转发命令</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -L 指定本地转发端口</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># localhost:80888 可以是相对于SSH服务192.168.165.88的可访问服务(这里是于SSH服务在同一个主机的服务)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 192.168.165.88 SSH服务主机</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 目标：通过 SSH 服务器访问它内网里的一个 Web 服务（假设该 Web 服务只监听在 127.0.0.1 或者内网IP，无法直接外网访问</span></span></code></pre></div><ul><li><strong>远程端口转发</strong></li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 本地主机执行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fNg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8077:localhost:8088</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.165.88</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -R 指定远程开启转发端口(ssh服务上)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -g 监听在0.0.0.0:8077(不指定,监听在127.0.0.1:8077)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># localhost:8088 就是当前执行命令的服务器上所开启的服务</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 192.168.165.88 SSH服务主机</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 说明ssh服务需要开启(GatewayPorts yes)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 目标：将你本地电脑运行的一个临时服务，暴露到公网 SSH 服务器上，让其他人访问</span></span></code></pre></div><ul><li><strong>动态端口转发</strong></li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 本地主机执行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fNg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8077</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.165.88</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 梯子</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fNg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8077</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p9527</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root@82.29.129.162</span></span></code></pre></div>`,7)])])}const o=i(h,[["render",t]]);export{c as __pageData,o as default};
