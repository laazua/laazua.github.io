import{_ as s,c as a,o as i,af as e}from"./chunks/framework.BKhkn9_V.js";const k=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"posts/java/runtime.md","filePath":"posts/java/runtime.md"}'),d={name:"posts/java/runtime.md"};function l(n,t,r,o,h,p){return i(),a("div",null,[...t[0]||(t[0]=[e(`<h5 id="runtime" tabindex="-1">Runtime <a class="header-anchor" href="#runtime" aria-label="Permalink to “Runtime”">​</a></h5><ul><li><strong>定制jre</strong></li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># JDK8 以后使用下面命令定制jre</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">someone@debian:~$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $JAVA_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/bin/jlink</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --module-path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $JAVA_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/jmods</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --add-modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> java.base,java.logging,java.sql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --output</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jre</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## 其中 --add-modules 可以添加需要的模块</span></span></code></pre></div><ul><li><strong>瘦身jar</strong></li></ul><blockquote><p>分析jar文件内容: jar tf target/app.jar<br> 整理jar包中不需要的内容(参考:jar-slim.sh)</p></blockquote><table tabindex="0"><thead><tr><th>类型</th><th>示例</th><th>是否排除</th></tr></thead><tbody><tr><td>测试类</td><td><code>*Test.class</code>, <code>*Tests.class</code></td><td>✅</td></tr><tr><td>示例包</td><td><code>**/example/**</code>, <code>**/samples/**</code></td><td>✅</td></tr><tr><td>IDE配置</td><td><code>.idea/</code>, <code>*.iml</code></td><td>✅</td></tr><tr><td>Maven 元数据</td><td><code>META-INF/maven/**</code></td><td>✅（非运行时必要）</td></tr><tr><td>签名文件</td><td><code>META-INF/*.RSA</code>, <code>META-INF/*.SF</code></td><td>✅</td></tr><tr><td>配置文件（开发环境）</td><td><code>application-dev.yml</code>, <code>logback-test.xml</code></td><td>✅</td></tr><tr><td>构建元数据</td><td><code>META-INF/INDEX.LIST</code>, <code>LICENSE</code>, <code>NOTICE</code></td><td>可选排除</td></tr></tbody></table><blockquote><p><a href="./runtime-jar.html">瘦身脚本jar-slim.sh</a></p></blockquote><ul><li><a href="./runtime-optimized.html">启动参数优化</a></li></ul>`,8)])])}const m=s(d,[["render",l]]);export{k as __pageData,m as default};
